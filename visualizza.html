function renderTable() {
    const list = document.getElementById('contactsTable');
    if (contacts.length === 0) {
        list.innerHTML = `<tr><td colspan="6" class="p-10 text-center text-slate-400 italic font-medium">No contacts found in the database.</td></tr>`;
        return;
    }

    list.innerHTML = contacts.map(c => {
        const fotoLink = c.foto && c.foto !== "" ? 
            `<a href="allegati/${c.foto}" target="_blank" class="inline-flex items-center justify-center w-10 h-10 bg-blue-50 text-blue-600 rounded-xl hover:bg-blue-600 hover:text-white transition-all shadow-sm">
                <i class="fas fa-image"></i>
            </a>` : 
            `<span class="text-slate-300 text-[10px] font-bold uppercase">No Photo</span>`;

        return `
        <tr class="hover:bg-slate-50 transition-colors">
            <td class="p-5 text-[11px] font-mono text-slate-400">${c.timestamp || '-'}</td>
            <td class="p-5 font-black text-red-600 text-sm italic uppercase">${c.azienda}</td>
            <td class="p-5 font-bold text-slate-700 text-sm">${c.nomeCognome}</td>
            <td class="p-5 text-[11px] text-slate-500 leading-tight">
                <i class="fas fa-map-marker-alt text-red-400 mr-1"></i> ${c.indirizzo || '-'}<br>
                <i class="fas fa-phone text-slate-300 mr-1"></i> ${c.cell || c.tel || '-'}
            </td>
            <td class="p-5 text-[11px] text-slate-600 max-w-xs truncate font-medium">
                ${c.cerco || '-'}
            </td>
            <td class="p-5 text-center">
                ${fotoLink}
            </td>
        </tr>
        `;
    }).join('');
}
