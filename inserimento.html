<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no, viewport-fit=cover">
<title>RIVIT S.p.A SB - Entry</title>

<script src="https://cdn.tailwindcss.com"></script>
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">

<style>
input, textarea, select { font-size:16px !important; }
body {
    background-image:url('intro.jpg');
    background-size:cover;
    background-position:center;
    background-attachment:fixed;
    min-height:100vh;
}
.glass-panel {
    background:rgba(255,255,255,0.96);
    backdrop-filter:blur(12px);
    border:1px solid rgba(255,255,255,0.4);
}
.status-dot {
    height:8px;width:8px;border-radius:50%;
    display:inline-block;margin-right:6px;
}
.modal-bg {
    position:fixed;
    inset:0;
    background:rgba(0,0,0,0.6);
    display:none;
    align-items:center;
    justify-content:center;
    z-index:50;
}
</style>
</head>

<body class="font-sans text-slate-900">

<div class="w-full max-w-2xl mx-auto p-4">

<header class="mb-6">
<div class="glass-panel p-5 rounded-[2rem] shadow-2xl border-b-4 border-red-600 flex justify-between items-center">

<div class="flex items-center gap-3">
<img src="FOTO1.jpg" class="h-12">
<h1 class="text-xl font-black">RIVIT S.p.A SB</h1>
</div>

<div class="flex items-center gap-3">
<div class="flex items-center bg-white px-3 py-1 rounded-full border">
<span id="statusDot" class="status-dot bg-slate-300"></span>
<span id="statusText" class="text-xs font-bold uppercase text-slate-500">Cloud Offline</span>
</div>

<button onclick="openPin()" class="bg-slate-800 text-white px-4 py-2 rounded-full text-xs font-bold uppercase">
<i class="fas fa-cloud"></i> Cloud Settings
</button>
</div>

</div>
</header>

<main class="glass-panel p-6 rounded-[2rem] shadow-2xl">

<form id="contactForm" class="space-y-4">

<input type="text" placeholder="Company" required class="w-full p-3 border rounded-xl">
<input type="text" placeholder="Contact Person" required class="w-full p-3 border rounded-xl">
<input type="text" placeholder="City" required class="w-full p-3 border rounded-xl">

<textarea placeholder="What does the company do?" required class="w-full p-3 border rounded-xl"></textarea>
<textarea placeholder="What are they looking for?" required class="w-full p-3 border rounded-xl"></textarea>

<div class="flex gap-3">
<button type="button" onclick="if(confirm('Cancel entry?')) location.reload()" class="w-1/3 py-3 bg-slate-200 rounded-xl font-bold uppercase text-xs">
Cancel
</button>

<button type="submit" class="w-2/3 py-3 bg-red-600 text-white rounded-xl font-bold uppercase text-sm">
Save Contact
</button>
</div>

</form>
</main>
</div>

<!-- PIN MODAL -->
<div id="pinModal" class="modal-bg">
<div class="bg-white p-8 rounded-3xl w-80 shadow-2xl text-center">
<h2 class="text-lg font-black mb-4">Enter PIN</h2>
<input type="password" id="pinInput" class="w-full p-3 border rounded-xl text-center mb-4" placeholder="Enter PIN">
<button onclick="checkPin()" class="w-full bg-red-600 text-white py-3 rounded-xl font-bold">Access</button>
<button onclick="closePin()" class="w-full mt-2 text-slate-500 text-sm">Cancel</button>
</div>
</div>

<!-- CONFIG MODAL -->
<div id="configModal" class="modal-bg">
<div class="bg-white p-8 rounded-3xl w-96 shadow-2xl">
<h2 class="text-lg font-black mb-4 text-center">Cloud Configuration</h2>

<label class="text-xs font-bold uppercase">GitHub Repository</label>
<input type="text" id="repoInput" class="w-full p-3 border rounded-xl mb-4" placeholder="username/repository">

<label class="text-xs font-bold uppercase">GitHub Token</label>
<input type="password" id="tokenInput" class="w-full p-3 border rounded-xl mb-6" placeholder="Personal Access Token">

<div class="flex gap-3">
<button onclick="saveConfig()" class="w-2/3 bg-red-600 text-white py-3 rounded-xl font-bold">Save</button>
<button onclick="logout()" class="w-1/3 bg-slate-200 py-3 rounded-xl font-bold text-xs">Reset</button>
</div>

<button onclick="closeConfig()" class="w-full mt-4 text-slate-500 text-sm">Close</button>
</div>
</div>

<script>

// ===== PIN CONFIG =====
const SYSTEM_PIN = "1234"; // üîê Cambialo qui

function openPin(){
document.getElementById("pinModal").style.display="flex";
}
function closePin(){
document.getElementById("pinModal").style.display="none";
}
function checkPin(){
const pin=document.getElementById("pinInput").value;
if(pin===SYSTEM_PIN){
closePin();
openConfig();
}else{
alert("Invalid PIN");
}
}

// ===== CONFIG =====
function openConfig(){
document.getElementById("configModal").style.display="flex";
}
function closeConfig(){
document.getElementById("configModal").style.display="none";
}

function saveConfig(){
const repo=document.getElementById("repoInput").value;
const token=document.getElementById("tokenInput").value;
if(!repo || !token){
alert("Please fill all fields");
return;
}
localStorage.setItem("gh_crm_config",JSON.stringify({repo,token}));
updateStatus(true);
closeConfig();
}

function logout(){
if(confirm("Reset cloud configuration?")){
localStorage.removeItem("gh_crm_config");
updateStatus(false);
closeConfig();
}
}

// ===== STATUS =====
function updateStatus(active){
if(active){
document.getElementById("statusDot").className="status-dot bg-green-500";
document.getElementById("statusText").innerText="Cloud Active";
}else{
document.getElementById("statusDot").className="status-dot bg-slate-300";
document.getElementById("statusText").innerText="Cloud Offline";
}
}

// INIT
if(localStorage.getItem("gh_crm_config")){
updateStatus(true);
}

</script>

</body>
</html>
